sleep 1;
if ((isMultiplayer) and ! (isServer)) exitwith {};

_path="\CHN_Crocodile\scripts\";
CROC_SPAWNCROC = compile preprocessFileLineNumbers (_path+"CROC_SPAWNCROC.sqf");
CROC_DEATHGUARD = compile preprocessFileLineNumbers (_path+"CROC_DEATHGUARD.sqf");
CROC_FUNCTIONS = compile preprocessFileLineNumbers (_path+"CROC_FUNCTIONS.sqf");

_check=CHN_ALLWATERUNITS;
if (isnil "_check") then 
{
	CHN_ALLWATERUNITS=[];
};
_check=CHN_CROCASSIGNED;
if (isnil "_check") then 
{
	CHN_CROCASSIGNED=[];
};

CHN_SPAWNEDCROCS=[];

//200 preloadObject "CHN_Crocodile";
/*
createcenter civilian;
_spawngroup = creategroup civilian;
_preloadcroc = _spawngroup createUnit ["CHN_Crocodile",[0,0,0],[],0,"CAN_COLLIDE"];
*/

call CROC_FUNCTIONS;

CHN_CROC_LINGORSPAWNPOINTS = [
[5519.3223,7191.1724],
[5523.0229,6978.6963],
[5533.3848,6770.6836],
[5590.8164,6527.4756],
[5696.0791,6323.8589],
[5698.7744,6125.4131],
[5849.5825,5901.5391],
[5769.0391,5703.3896],
[5773.8535,5453.5303],
[5806.9556,5228.8809],
[5805.8599,4998.5278],
[6116.0923,4854.3755],
[6196.4233,4648.0298],
[6307.1641,4423.1519],
[6352.4536,4207.8701],
[6485.0923,4042.7522],
[6645.8965,3867.2039],
[6846.8965,3809.0322],
[7058.2866,3839.1282],
[6771.6982,3507.7742],
[5553.7144,4861.3462],
[5502.0025,4661.8726],
[5420.9497,4470.9009],
[5289.7495,4328.7056],
[5400.7188,4126.8311],
[5478.3418,3957.8582],
[5610.7231,3860.0403],
[5683.1289,3666.2402],
[5562.8346,3529.8542],
[5522.6299,3312.3193],
[5116.1172,4146.8813],
[4973.3208,3973.3896],
[4934.8687,3833.5503],
[4936.5796,3693.0601],
[4965.6621,3552.1123],
[4989.5107,3396.8513],
[5119.7842,3308.5249],
[5261.5664,3439.8872],
[5381.1235,3539.3638],
[4758.0366,3825.8335],
[4572.7139,3682.1184],
[4481.4956,3728.4758],
[4515.0586,3634.1265],
[4442.7246,3579.7161],
[4518.5303,3564.6667],
[4585.6997,3562.8191],
[4510.8564,3486.1047],
[4447.2036,3439.7971],
[4344.3193,3459.4739],
[4253.3228,3538.6047],
[6872.2832,2776.6692],
[6885.0952,2594.1323],
[6434.3701,2707.6235],
[6224.7544,2878.7639],
[6077.4429,2979.1423],
[6844.2939,2361.4412],
[5917.5176,2970.2656],
[5773.2559,2919.4377],
[5589.0269,2917.5667],
[5453.9409,3015.9258],
[5291.5679,2873.6284],
[5375.7378,2936.1587],
[5717.6909,2808.5215],
[5770.7007,2690.2146],
[5770.8379,2571.3015],
[5801.5068,2466.5354],
[5210.1455,2227.6826],
[5070.4971,2894.0596],
[4942.6865,2922.2192],
[4812.0132,2940.2051],
[4760.7729,2783.4563],
[4785.2373,2857.2759],
[4744.64315,2720.802],
[4719.9365,2659.9128],
[4637.2227,2672.8069],
[4569.1104,2731.0779],
[4502.5098,2775.8489],
[4422.6597,2807.0100],
[4332.7842,2795.9082],
[4282.2046,2718.6353],
[4247.9868,2655.5120],
[4186.0405,2601.0701],
[4111.562,2561.31230],
[4018.8359,2577.1794],
[3917.7822,2580.8215],
[3818.0942,2552.1370],
[3733.4092,2441.1931],
[3723.9517,2329.2712],
[3850.0237,2231.3713],
[3556.9351,2301.8372],
[3368.0803,2361.0686],
[3190.7935,2380.9363],
[3012.0347,2375.0496],
[2839.897,2346.35180],
[2666.0554,2352.1782],
[2732.4355,2541.2354],
[2603.9714,2532.5525],
[2505.0188,2479.8792],
[2394.8025,2463.7253],
[2409.7788,2375.8508],
[2301.897,2389.51050],
[2208.1265,2372.6628],
[2100.700,2354.45040],
[2007.8401,2371.7527],
[1969.1486,2433.6760],
[1964.5966,2518.8206],
[1972.0447,2596.0959],
[1980.5576,2664.4299],
[1960.7026,2738.9617],
[1885.13730,2821.322],
[1787.3423,2854.3157],
[1652.5128,2879.2046],
[1530.4139,2940.5613],
[1442.5079,3022.8801],
[2477.6150,2312.8088],
[2565.2229,2328.9629],
[2447.3362,2221.9456],
[2339.5420,2191.6575],
[2260.4124,2144.0037],
[2147.3704,2119.7734],
[2050.4768,2105.6394],
[1945.9126,2045.4668],
[2025.8496,2004.6794],
[2009.2971,1927.1428],
[1910.7888,1966.7186],
[1829.2367,2031.3335],
[1741.9824,1956.1034],
[1558.6450,2106.2097],
[1723.0615,1786.4208],
[1925.5573,1696.7382],
[1717.1735,1608.0828],
[4986.3706,4223.0259],
[5040.0723,4374.6079],
[4957.9561,4476.8013],
[4919.6421,4588.5513],
[4944.6968,4796.7954],
[4992.4912,4938.5664],
[5038.1626,5136.9644],
[4993.6782,5313.7905],
[4895.8389,5431.5249],
[4727.3794,5363.8276],
[4607.4717,5253.4521],
[4356.9463,5281.7095],
[4096.5098,5343.9365],
[3992.8794,5544.2192],
[4144.7134,5794.1816],
[3753.5305,5406.0552],
[3635.7158,5641.5278],
[3670.5518,5861.3862],
[3889.6936,6087.7778],
[3945.6018,6225.3779],
[4219.9922,6255.5493],
[4272.9575,6421.8472],
[4048.5906,6391.6777],
[3482.1956,5382.6909],
[3382.8855,5631.4033],
[3298.8455,5773.4995],
[3300.3945,5937.7651],
[3292.9482,5466.0693],
[3134.5280,5600.4736],
[3013.4187,5579.0474],
[2837.6572,5631.6582],
[3058.0957,5376.8916],
[3028.2305,5264.5239],
[3201.9714,5095.4736],
[2353.0894,5517.0708],
[2126.2458,5261.2593],
[1859.7627,4906.6958],
[1595.3783,5414.1665],
[2386.61080,5870.083],
[2330.9988,6251.1499],
[2614.7710,6695.3433],
[1913.7200,6697.7114],
[2808.20900,8138.582]
];

[] spawn CROC_DEATHGUARD;
_eastbound=7317;
_westbound=1151;
_northbound=8655;
_southbound=1469;

/*
sleep 0.2;
deletevehicle _preloadcroc;
deletegroup _spawngroup;
*/

for "_i" from 0 to 99999999 step 0 do
{
	{
		_inbound=false;
		if (((position _x select 0)>_westbound) and ((position _x select 0)<_eastbound) and ((position _x select 1)>_southbound) and ((position _x select 1)<_northbound)) then
		{
			_inbound=true;
		};
		
		
		if ((surfaceIsWater position _x) and (_inbound) and (faction _x !="CHN_CrocodilesFAC") and (vehicle _x==_x) and (alive _x) and (! (_x in CHN_ALLWATERUNITS))) then
		{
			CHN_ALLWATERUNITS set [count CHN_ALLWATERUNITS,_x];
		};
		
		if ((! alive _x) and (_x in CHN_ALLWATERUNITS)) then
		{
			_i = CHN_ALLWATERUNITS find _x;
			CHN_ALLWATERUNITS set [_i,objnull];
			CHN_ALLWATERUNITS = CHN_ALLWATERUNITS - [objnull];
		};
		
		if ((alive _x) and (!(surfaceIsWater position _x)) and (_x in CHN_ALLWATERUNITS)) then
		{
			_i = CHN_ALLWATERUNITS find _x;
			CHN_ALLWATERUNITS set [_i,objnull];
			CHN_ALLWATERUNITS = CHN_ALLWATERUNITS - [objnull];
		};
		
		if ((alive _x) and (surfaceIsWater position _x) and (_x in CHN_ALLWATERUNITS) and (! _inbound)) then
		{
			_i = CHN_ALLWATERUNITS find _x;
			CHN_ALLWATERUNITS set [_i,objnull];
			CHN_ALLWATERUNITS = CHN_ALLWATERUNITS - [objnull];
		};
		
	} foreach allunits;
	
	//player sidechat format ["CHN_ALLWATERUNITS %1",CHN_ALLWATERUNITS];
};